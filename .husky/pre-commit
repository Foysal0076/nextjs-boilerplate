
export FORCE_COLOR=1
pnpm  lint-staged
pnpm check-types ||
(
  echo "âŒâŒâŒ Type check failed âŒâŒâŒ"
  exit 1
)

# If you check coverage the pnpm test is redundant, since coverage script runs the tests
#pnpm test ||
#(
#  echo "âŒâŒâŒ Tests failed âŒâŒâŒ"
#  exit 1
#)

pnpm test:coverage:silent ||
(
  echo "âŒâŒâŒ Test coverage check failed âŒâŒâŒ"
  exit 1
)

# If everyting passes... try to run a build
echo 'âœ…âœ…âœ… Allright...Code looks good...âœ…âœ…âœ…'
#echo 'âœ…âœ…âœ… Allright...Code looks good...Trying to build now...âœ…âœ…âœ…'

#pnpm build ||
#(
#  echo "âŒâŒâŒ Build failed âŒâŒâŒ"
#  echo "âš ï¸ âš ï¸ âš ï¸ Next build failed: View the errors above to see what went wrong âš ï¸ âš ï¸ âš ï¸"
#  exit 1
#)

#IF it builds we can commit
#echo "âœ…âœ…âœ… Build successful âœ…âœ…âœ…"
echo "ğŸ‰ğŸ‰ğŸ‰ Committing now... ğŸ‰ğŸ‰ğŸ‰"